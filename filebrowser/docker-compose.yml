version: "3.8"

services:
  filebrowser:
    image: filebrowser/filebrowser:latest
    container_name: filebrowser
    restart: unless-stopped
    volumes:
      - ${FILES_ROOT:-./data}:/srv 
      - ./config/filebrowser.db:/filebrowser.db
      - ./config/settings.json:/.filebrowser.json
    environment:
      - PUID=${PUID:-1000}
      - PGID=${PGID:-1000}
    ports:
      - "${PORT:-8083}:80"
    # If you use a reverse proxy (nginx-proxy-manager) remove the ports mapping
    # and create a Proxy Host pointing to filebrowser:80
    networks:
      - shared

networks:
  shared:
    external: true
